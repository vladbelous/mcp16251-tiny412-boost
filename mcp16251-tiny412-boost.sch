EESchema Schematic File Version 4
LIBS:mcp16251-tiny412-boost-cache
EELAYER 26 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 1 1
Title "MCP16251T-based boost SMD module"
Date "2019-01-21"
Rev "1"
Comp ""
Comment1 "creativecommons.org/licenses"
Comment2 "CC BY-SA 4.0 license"
Comment3 "Vlad Belous"
Comment4 ""
$EndDescr
Wire Wire Line
	13950 6750 13950 6450
Wire Wire Line
	13950 6450 14050 6450
Text GLabel 14050 6450 2    50   Input ~ 0
Vbat_raw_sense
$Comp
L Device:Q_PMOS_GSD Q1
U 1 1 5C038257
P 2750 1750
F 0 "Q1" V 2900 1900 50  0000 C CNN
F 1 "Q_PMOS_GSD" V 3003 1750 50  0000 C CNN
F 2 "MCP16251_module:SOT-23_HS" H 2950 1850 50  0001 C CNN
F 3 "~" H 2750 1750 50  0001 C CNN
	1    2750 1750
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R1
U 1 1 5C03837C
P 13400 6200
F 0 "R1" H 13470 6247 50  0000 L CNN
F 1 "100k" H 13470 6154 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 13330 6200 50  0001 C CNN
F 3 "~" H 13400 6200 50  0001 C CNN
	1    13400 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	13750 6300 13750 6200
Wire Wire Line
	16250 6200 16650 6200
Wire Wire Line
	13750 6600 13750 6700
Wire Wire Line
	16650 6000 16650 6200
$Comp
L Switch:SW_Push SW2
U 1 1 5C03869F
P 2950 5400
F 0 "SW2" V 3000 5750 50  0000 R CNN
F 1 "SW_Push" V 2900 5900 50  0000 R CNN
F 2 "Buttons_Switches_SMD:SW_SPST_TL3342" H 2950 5600 50  0001 C CNN
F 3 "" H 2950 5600 50  0001 C CNN
	1    2950 5400
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R5
U 1 1 5C038744
P 15650 6650
F 0 "R5" H 15720 6697 50  0000 L CNN
F 1 "100k" H 15720 6604 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 15580 6650 50  0001 C CNN
F 3 "~" H 15650 6650 50  0001 C CNN
	1    15650 6650
	-1   0    0    -1  
$EndComp
Wire Wire Line
	16650 6200 16650 6300
Connection ~ 16650 6200
$Comp
L Device:Q_NPN_BEC Q2
U 1 1 5C03897A
P 16150 6500
F 0 "Q2" H 16340 6547 50  0000 L CNN
F 1 "NPN_3904" H 15800 6350 50  0000 L CNN
F 2 "MCP16251_module:SOT-23_HS" H 16350 6600 50  0001 C CNN
F 3 "~" H 16150 6500 50  0001 C CNN
	1    16150 6500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR07
U 1 1 5C038BEB
P 16250 6800
F 0 "#PWR07" H 16250 6550 50  0001 C CNN
F 1 "GND" H 16255 6624 50  0000 C CNN
F 2 "" H 16250 6800 50  0001 C CNN
F 3 "" H 16250 6800 50  0001 C CNN
	1    16250 6800
	-1   0    0    -1  
$EndComp
$Comp
L Device:R_Small R4
U 1 1 5C038DEC
P 15800 6500
F 0 "R4" V 15590 6500 50  0000 C CNN
F 1 "100k" V 15683 6500 50  0000 C CNN
F 2 "MCP16251_module:R_0805_HS" V 15730 6500 50  0001 C CNN
F 3 "~" H 15800 6500 50  0001 C CNN
	1    15800 6500
	0    -1   1    0   
$EndComp
Text GLabel 15450 6500 0    50   Input ~ 0
PWR_CONTROL
Text GLabel 3150 1650 2    50   Input ~ 0
VBAT
Text Notes 1100 1000 0    100  ~ 0
Battery input and protection
$Comp
L local_symbols:MCP16251T U1
U 1 1 5C03A295
P 6750 1950
F 0 "U1" H 6775 2633 50  0000 C CNN
F 1 "MCP16251T" H 6775 2540 50  0000 C CNN
F 2 "MCP16251_module:SOT-23-6_HS" H 6750 1950 50  0001 C CNN
F 3 "" H 6750 1950 50  0001 C CNN
	1    6750 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 2150 6150 2150
$Comp
L Device:C C4
U 1 1 5C03A950
P 5450 2200
F 0 "C4" H 5200 2250 50  0000 L CNN
F 1 "4.7uF" H 5100 2150 50  0000 L CNN
F 2 "MCP16251_module:R_1206_HS" H 5488 2050 50  0001 C CNN
F 3 "~" H 5450 2200 50  0001 C CNN
	1    5450 2200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 5C03A9B0
P 6850 2550
F 0 "#PWR05" H 6850 2300 50  0001 C CNN
F 1 "GND" H 6855 2374 50  0000 C CNN
F 2 "" H 6850 2550 50  0001 C CNN
F 3 "" H 6850 2550 50  0001 C CNN
	1    6850 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 1950 5450 2050
Text GLabel 5250 1950 0    50   Input ~ 0
VBAT
$Comp
L Device:L L1
U 1 1 5C03B30E
P 6300 1450
F 0 "L1" V 6495 1450 50  0000 C CNN
F 1 "4.7uH" V 6402 1450 50  0000 C CNN
F 2 "MCP16251_module:L_Taiyo-Yuden_NR-S-40xx_HS" H 6300 1450 50  0001 C CNN
F 3 "~" H 6300 1450 50  0001 C CNN
	1    6300 1450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6450 1450 6650 1450
Wire Wire Line
	6150 1450 5950 1450
Wire Wire Line
	5950 1450 5950 1950
$Comp
L Device:R R2
U 1 1 5C03BA24
P 7450 1900
F 0 "R2" H 7520 1947 50  0000 L CNN
F 1 "R" H 7520 1854 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 7380 1900 50  0001 C CNN
F 3 "~" H 7450 1900 50  0001 C CNN
	1    7450 1900
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 5C03BA8B
P 7450 2200
F 0 "R3" H 7520 2247 50  0000 L CNN
F 1 "R" H 7520 2154 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 7380 2200 50  0001 C CNN
F 3 "~" H 7450 2200 50  0001 C CNN
	1    7450 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:R_POT RV1
U 1 1 5C03BC56
P 7850 2050
F 0 "RV1" H 7780 2097 50  0000 R CNN
F 1 "R_POT" H 7780 2004 50  0000 R CNN
F 2 "MCP16251_module:Conn_01x03_small" H 7850 2050 50  0001 C CNN
F 3 "~" H 7850 2050 50  0001 C CNN
	1    7850 2050
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7250 2050 7450 2050
Connection ~ 7450 2050
Wire Wire Line
	7450 2050 7700 2050
Wire Wire Line
	7250 1750 7450 1750
Wire Wire Line
	7450 1750 7850 1750
Wire Wire Line
	7850 1750 7850 1900
Connection ~ 7450 1750
Wire Wire Line
	7850 2200 7850 2350
Wire Wire Line
	7850 2350 7450 2350
$Comp
L power:GND #PWR06
U 1 1 5C03CD33
P 7450 2550
F 0 "#PWR06" H 7450 2300 50  0001 C CNN
F 1 "GND" H 7455 2374 50  0000 C CNN
F 2 "" H 7450 2550 50  0001 C CNN
F 3 "" H 7450 2550 50  0001 C CNN
	1    7450 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 2550 7450 2350
Connection ~ 7450 2350
Text Notes 7600 2750 0    50   ~ 0
FB = 1.23V.\nPlace fixed voltage divider,\nor the trim pot.
Wire Wire Line
	7850 1750 8350 1750
Connection ~ 7850 1750
Wire Wire Line
	8350 1750 8350 1850
Text GLabel 9250 1750 2    50   Input ~ 0
5V
Text Notes 7400 1400 0    100  ~ 0
MCP16251T (SOT-23-6)\nvoltage boost regulator\n(pin compatible: TPS6107x)
$Comp
L Device:C C1
U 1 1 5C041385
P 8350 2000
F 0 "C1" H 8465 2047 50  0000 L CNN
F 1 "10uF" H 8465 1954 50  0000 L CNN
F 2 "MCP16251_module:R_1206_HS" H 8388 1850 50  0001 C CNN
F 3 "~" H 8350 2000 50  0001 C CNN
	1    8350 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 2150 8350 2250
$Comp
L power:GND #PWR01
U 1 1 5C04138C
P 8350 2250
F 0 "#PWR01" H 8350 2000 50  0001 C CNN
F 1 "GND" H 8355 2074 50  0000 C CNN
F 2 "" H 8350 2250 50  0001 C CNN
F 3 "" H 8350 2250 50  0001 C CNN
	1    8350 2250
	1    0    0    -1  
$EndComp
Connection ~ 8350 1750
$Comp
L power:GND #PWR04
U 1 1 5C0544B2
P 5450 2450
F 0 "#PWR04" H 5450 2200 50  0001 C CNN
F 1 "GND" H 5455 2274 50  0000 C CNN
F 2 "" H 5450 2450 50  0001 C CNN
F 3 "" H 5450 2450 50  0001 C CNN
	1    5450 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 2350 5450 2450
Text Notes 5100 2400 0    50   ~ 0
or 10uF
Text Notes 9050 2450 0    50   ~ 0
Optional extra\noutput capacitance,\n1206.\nTotal maximum <= 47uF.
$Comp
L Device:C C2
U 1 1 5C0551E3
P 8850 2000
F 0 "C2" H 8965 2047 50  0000 L CNN
F 1 "C" H 8965 1954 50  0000 L CNN
F 2 "MCP16251_module:R_1206_HS" H 8888 1850 50  0001 C CNN
F 3 "~" H 8850 2000 50  0001 C CNN
	1    8850 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	8850 1750 8850 1850
Wire Wire Line
	8350 1750 8850 1750
Wire Wire Line
	8850 1750 9250 1750
Connection ~ 8850 1750
Wire Wire Line
	8850 2150 8850 2250
$Comp
L power:GND #PWR02
U 1 1 5C05669B
P 8850 2250
F 0 "#PWR02" H 8850 2000 50  0001 C CNN
F 1 "GND" H 8855 2074 50  0000 C CNN
F 2 "" H 8850 2250 50  0001 C CNN
F 3 "" H 8850 2250 50  0001 C CNN
	1    8850 2250
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J1
U 1 1 5C056B14
P 11950 4100
F 0 "J1" H 11950 4200 50  0000 C CNN
F 1 "THT_Castellated" H 12350 4100 50  0000 C CNN
F 2 "MCP16251_module:Conn_01x02_cast" H 11950 4100 50  0001 C CNN
F 3 "~" H 11950 4100 50  0001 C CNN
	1    11950 4100
	-1   0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J3
U 1 1 5C0585BB
P 12500 1450
F 0 "J3" H 12500 1250 50  0000 C CNN
F 1 "THT_Castellated" H 12900 1350 50  0000 C CNN
F 2 "MCP16251_module:Conn_01x02_cast_mirrored" H 12500 1450 50  0001 C CNN
F 3 "~" H 12500 1450 50  0001 C CNN
	1    12500 1450
	1    0    0    1   
$EndComp
Text GLabel 1150 1650 0    50   Input ~ 0
VBAT_RAW
Text GLabel 1900 6800 2    50   Input ~ 0
VBAT_RAW
Text GLabel 12000 1350 0    50   Input ~ 0
5V
Wire Wire Line
	14000 8900 14000 9000
$Comp
L power:GND #PWR011
U 1 1 5C063A39
P 14000 9000
F 0 "#PWR011" H 14000 8750 50  0001 C CNN
F 1 "GND" H 14005 8824 50  0000 C CNN
F 2 "" H 14000 9000 50  0001 C CNN
F 3 "" H 14000 9000 50  0001 C CNN
	1    14000 9000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR09
U 1 1 5C06736C
P 12150 4200
F 0 "#PWR09" H 12150 3950 50  0001 C CNN
F 1 "GND" H 12155 4024 50  0000 C CNN
F 2 "" H 12150 4200 50  0001 C CNN
F 3 "" H 12150 4200 50  0001 C CNN
	1    12150 4200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR010
U 1 1 5C07165F
P 12300 1450
F 0 "#PWR010" H 12300 1200 50  0001 C CNN
F 1 "GND" H 12305 1274 50  0000 C CNN
F 2 "" H 12300 1450 50  0001 C CNN
F 3 "" H 12300 1450 50  0001 C CNN
	1    12300 1450
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J2
U 1 1 5C074DA3
P 1400 6800
F 0 "J2" H 1600 6750 50  0000 C CNN
F 1 "JST_PH_Header" H 1400 6950 50  0000 C CNN
F 2 "Connectors_JST:JST_PH_S2B-PH-K_02x2.00mm_Angled" H 1400 6800 50  0001 C CNN
F 3 "~" H 1400 6800 50  0001 C CNN
	1    1400 6800
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR014
U 1 1 5C0750C5
P 1600 6900
F 0 "#PWR014" H 1600 6650 50  0001 C CNN
F 1 "GND" H 1605 6724 50  0000 C CNN
F 2 "" H 1600 6900 50  0001 C CNN
F 3 "" H 1600 6900 50  0001 C CNN
	1    1600 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 7400 1600 7400
$Comp
L Switch:SW_SPDT SW1
U 1 1 5C07AA94
P 2050 1750
F 0 "SW1" H 2000 1600 50  0000 C CNN
F 1 "SW_SPDT" H 2050 1500 50  0000 C CNN
F 2 "MCP16251_module:Conn_01x03_small" H 2050 1750 50  0001 C CNN
F 3 "" H 2050 1750 50  0001 C CNN
	1    2050 1750
	1    0    0    -1  
$EndComp
$Comp
L Jumper:SolderJumper_2_Open JP1
U 1 1 5C08228F
P 2050 1500
F 0 "JP1" H 2050 1710 50  0000 C CNN
F 1 "Jumper" H 2050 1617 50  0000 C CNN
F 2 "MCP16251_module:R_0805_HS" H 2050 1500 50  0001 C CNN
F 3 "~" H 2050 1500 50  0001 C CNN
	1    2050 1500
	1    0    0    -1  
$EndComp
Text GLabel 13800 4100 0    50   Input ~ 0
PWR_CONTROL
$Comp
L Connector_Generic:Conn_01x01 J5
U 1 1 5C08B0BD
P 14300 4400
F 0 "J5" H 14379 4442 50  0000 L CNN
F 1 "THT_Castellated" H 14379 4349 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 14300 4400 50  0001 C CNN
F 3 "~" H 14300 4400 50  0001 C CNN
	1    14300 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 5C25A557
P 15650 6800
F 0 "#PWR0101" H 15650 6550 50  0001 C CNN
F 1 "GND" H 15655 6624 50  0000 C CNN
F 2 "" H 15650 6800 50  0001 C CNN
F 3 "" H 15650 6800 50  0001 C CNN
	1    15650 6800
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0102
U 1 1 5C25DA93
P 16650 6800
F 0 "#PWR0102" H 16650 6550 50  0001 C CNN
F 1 "GND" H 16655 6624 50  0000 C CNN
F 2 "" H 16650 6800 50  0001 C CNN
F 3 "" H 16650 6800 50  0001 C CNN
	1    16650 6800
	1    0    0    -1  
$EndComp
Wire Wire Line
	16650 6700 16650 6800
Wire Wire Line
	5950 1950 6250 1950
$Comp
L Device:R_Small R6
U 1 1 5C264C54
P 6150 2300
F 0 "R6" H 6220 2347 50  0000 L CNN
F 1 "100k" H 6220 2254 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 6080 2300 50  0001 C CNN
F 3 "~" H 6150 2300 50  0001 C CNN
	1    6150 2300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 5C2666D5
P 6150 2450
F 0 "#PWR0103" H 6150 2200 50  0001 C CNN
F 1 "GND" H 6155 2274 50  0000 C CNN
F 2 "" H 6150 2450 50  0001 C CNN
F 3 "" H 6150 2450 50  0001 C CNN
	1    6150 2450
	1    0    0    -1  
$EndComp
$Comp
L local_symbols:MIC809 U2
U 1 1 5C26A349
P 14700 8400
F 0 "U2" H 15050 8350 50  0000 R CNN
F 1 "MIC809" H 15200 8250 50  0000 R CNN
F 2 "MCP16251_module:SOT-23_HS" H 14700 8400 50  0001 C CNN
F 3 "" H 14700 8400 50  0001 C CNN
	1    14700 8400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 5C26A716
P 14700 8700
F 0 "#PWR0104" H 14700 8450 50  0001 C CNN
F 1 "GND" H 14705 8524 50  0000 C CNN
F 2 "" H 14700 8700 50  0001 C CNN
F 3 "" H 14700 8700 50  0001 C CNN
	1    14700 8700
	1    0    0    -1  
$EndComp
Text GLabel 15200 8200 2    50   Input ~ 0
BOOST_EN
Wire Wire Line
	15100 8200 15200 8200
Text GLabel 6050 2150 0    50   Input ~ 0
BOOST_EN
Text Notes 14650 8050 0    50   ~ 0
Vth = 2.93V
$Comp
L Device:Polyfuse F1
U 1 1 5C290274
P 1500 1650
F 0 "F1" V 1267 1650 50  0000 C CNN
F 1 "Polyfuse" V 1360 1650 50  0000 C CNN
F 2 "MCP16251_module:R_1206_HS" H 1550 1450 50  0001 L CNN
F 3 "~" H 1500 1650 50  0001 C CNN
	1    1500 1650
	0    1    1    0   
$EndComp
Wire Wire Line
	1650 1650 1750 1650
Wire Wire Line
	1750 1650 1750 1500
Wire Wire Line
	11750 7900 11750 7400
Wire Wire Line
	11750 7400 11850 7400
Text Notes 1350 1900 0    50   ~ 0
750mA\n1206
Wire Wire Line
	2350 1500 2200 1500
Wire Wire Line
	1750 1500 1900 1500
Wire Wire Line
	15950 6500 15900 6500
Wire Wire Line
	15700 6500 15650 6500
Wire Wire Line
	15650 6500 15650 6550
Wire Wire Line
	15650 6750 15650 6800
Wire Wire Line
	16250 6200 16250 6300
Wire Wire Line
	15450 6500 15650 6500
Connection ~ 15650 6500
Wire Wire Line
	16250 6700 16250 6800
Wire Wire Line
	14600 7600 14600 7900
Wire Wire Line
	2950 1650 3150 1650
Wire Wire Line
	5450 1950 5250 1950
Connection ~ 5450 1950
Wire Wire Line
	6150 2150 6150 2200
Wire Wire Line
	6150 2400 6150 2450
Wire Wire Line
	6050 2150 6150 2150
Connection ~ 6150 2150
$Comp
L local_symbols:MIC803 U3
U 1 1 5C314BE9
P 11800 6550
F 0 "U3" H 11567 6697 50  0000 R CNN
F 1 "MIC803" H 11567 6604 50  0000 R CNN
F 2 "MCP16251_module:SOT-23_HS" H 11800 6550 50  0001 C CNN
F 3 "" H 11800 6550 50  0001 C CNN
	1    11800 6550
	1    0    0    -1  
$EndComp
Text GLabel 11600 5950 0    50   Input ~ 0
5V
Wire Wire Line
	11600 5950 11700 5950
Wire Wire Line
	11700 5950 11700 6050
Text Notes 11800 6200 0    50   ~ 0
Vth = 2.93V
Text Notes 12050 6450 0    50   ~ 0
open-drain
$Comp
L power:GND #PWR0105
U 1 1 5C3174CF
P 12800 6950
F 0 "#PWR0105" H 12800 6700 50  0001 C CNN
F 1 "GND" H 12805 6774 50  0000 C CNN
F 2 "" H 12800 6950 50  0001 C CNN
F 3 "" H 12800 6950 50  0001 C CNN
	1    12800 6950
	1    0    0    -1  
$EndComp
Text GLabel 12550 6350 2    50   Input ~ 0
uC_RESET
Text Notes 12050 2850 0    100  ~ 0
Headers and connectors;\n\nTHT_Castellated = 5.08mm screw terminal,\ncombined with castellated edge
Text Notes 12150 7550 0    100  ~ 0
Voltage supervisor for microcontroller
$Comp
L Device:Q_PMOS_GSD Q4
U 1 1 5C47FB36
P 12900 8600
F 0 "Q4" V 13246 8600 50  0000 C CNN
F 1 "Q_PMOS_GSD" V 13153 8600 50  0000 C CNN
F 2 "MCP16251_module:SOT-23_HS" H 13100 8700 50  0001 C CNN
F 3 "~" H 12900 8600 50  0001 C CNN
	1    12900 8600
	0    1    -1   0   
$EndComp
$Comp
L Device:Q_PMOS_GSD Q3
U 1 1 5C47FB3C
P 12200 8600
F 0 "Q3" V 12546 8600 50  0000 C CNN
F 1 "Q_PMOS_GSD" V 12453 8600 50  0000 C CNN
F 2 "MCP16251_module:SOT-23_HS" H 12400 8700 50  0001 C CNN
F 3 "~" H 12200 8600 50  0001 C CNN
	1    12200 8600
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R8
U 1 1 5C47FB42
P 12550 8650
F 0 "R8" H 12400 8650 50  0000 L CNN
F 1 "100k" H 12300 8750 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" V 12480 8650 50  0001 C CNN
F 3 "~" H 12550 8650 50  0001 C CNN
	1    12550 8650
	1    0    0    1   
$EndComp
Text GLabel 14300 8500 2    50   Input ~ 0
uC_ADC
Text Notes 15000 8350 0    50   ~ 0
push-pull
$Comp
L local_symbols:MIC2777 U4
U 1 1 5C4FDBC3
P 13200 9300
F 0 "U4" H 12900 9150 50  0000 C CNN
F 1 "MIC2777" H 12800 9050 50  0000 C CNN
F 2 "MCP16251_module:SOT-23-5_HS" H 13200 9300 50  0001 C CNN
F 3 "" H 13200 9300 50  0001 C CNN
	1    13200 9300
	-1   0    0    -1  
$EndComp
Text GLabel 13650 9000 2    50   Input ~ 0
5V
Wire Wire Line
	13600 9100 13600 9000
Wire Wire Line
	13600 9000 13650 9000
Text Notes 13150 8950 0    50   ~ 0
Vth = 4.68V
$Comp
L power:GND #PWR0106
U 1 1 5C51BA94
P 13200 9700
F 0 "#PWR0106" H 13200 9450 50  0001 C CNN
F 1 "GND" H 13204 9521 50  0000 C CNN
F 2 "" H 13200 9700 50  0001 C CNN
F 3 "" H 13200 9700 50  0001 C CNN
	1    13200 9700
	1    0    0    -1  
$EndComp
Wire Wire Line
	12550 9300 12750 9300
NoConn ~ 12750 9100
Wire Wire Line
	12550 8500 12550 8550
Wire Wire Line
	12550 8750 12550 8800
Wire Wire Line
	12200 8800 12550 8800
Wire Wire Line
	12400 8500 12550 8500
Wire Wire Line
	11850 8500 12000 8500
Text GLabel 11850 8500 0    50   Input ~ 0
Vbat_raw_sense
Text Notes 13100 5750 0    100  ~ 0
VBAT_RAW voltage switch
$Comp
L Device:R R7
U 1 1 5C5BCDE2
P 13750 8500
F 0 "R7" V 13540 8500 50  0000 C CNN
F 1 "1k" V 13633 8500 50  0000 C CNN
F 2 "MCP16251_module:R_0805_HS" V 13680 8500 50  0001 C CNN
F 3 "~" H 13750 8500 50  0001 C CNN
	1    13750 8500
	0    1    1    0   
$EndComp
$Comp
L Device:C C3
U 1 1 5C5BCE9A
P 14000 8750
F 0 "C3" H 14115 8797 50  0000 L CNN
F 1 "100nF" H 14115 8704 50  0000 L CNN
F 2 "MCP16251_module:R_0805_HS" H 14038 8600 50  0001 C CNN
F 3 "~" H 14000 8750 50  0001 C CNN
	1    14000 8750
	1    0    0    -1  
$EndComp
Wire Wire Line
	14000 8500 14000 8600
Wire Wire Line
	13900 8500 14000 8500
Wire Wire Line
	12550 8500 12700 8500
Connection ~ 12550 8500
Wire Wire Line
	12900 8800 12550 8800
Connection ~ 12550 8800
Wire Wire Line
	12550 8800 12550 9300
Wire Wire Line
	13100 8500 13600 8500
Text Notes 12500 9450 0    50   ~ 0
push-pull
Wire Wire Line
	5450 1950 5950 1950
Connection ~ 5950 1950
Wire Wire Line
	12200 6350 12550 6350
$Comp
L Jumper:SolderJumper_2_Open JP2
U 1 1 5C6B91A1
P 17150 6500
F 0 "JP2" V 17100 6650 50  0000 C CNN
F 1 "Jumper" V 17200 6700 50  0000 C CNN
F 2 "MCP16251_module:R_0805_HS" H 17150 6500 50  0001 C CNN
F 3 "~" H 17150 6500 50  0001 C CNN
	1    17150 6500
	0    1    1    0   
$EndComp
Wire Wire Line
	12400 5400 13200 5400
Wire Wire Line
	16650 6200 17150 6200
Wire Wire Line
	17150 6200 17150 6350
Wire Wire Line
	17150 6650 17150 6800
$Comp
L power:GND #PWR0107
U 1 1 5C6C4B3B
P 17150 6800
F 0 "#PWR0107" H 17150 6550 50  0001 C CNN
F 1 "GND" H 17155 6624 50  0000 C CNN
F 2 "" H 17150 6800 50  0001 C CNN
F 3 "" H 17150 6800 50  0001 C CNN
	1    17150 6800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 6800 1800 6800
Connection ~ 1800 6800
Wire Wire Line
	1800 6800 1900 6800
Wire Wire Line
	1800 7400 1800 6800
Wire Wire Line
	12000 1350 12300 1350
Text GLabel 13800 4700 0    50   Input ~ 0
uC_RESET
$Comp
L Connector_Generic:Conn_01x01 J6
U 1 1 5C2BBDBA
P 14300 4700
F 0 "J6" H 14379 4742 50  0000 L CNN
F 1 "THT_Castellated" H 14379 4649 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 14300 4700 50  0001 C CNN
F 3 "~" H 14300 4700 50  0001 C CNN
	1    14300 4700
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J4
U 1 1 5C2EABCC
P 14300 4100
F 0 "J4" H 14379 4142 50  0000 L CNN
F 1 "THT_Castellated" H 14379 4049 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 14300 4100 50  0001 C CNN
F 3 "~" H 14300 4100 50  0001 C CNN
	1    14300 4100
	1    0    0    -1  
$EndComp
Text GLabel 13800 4400 0    50   Input ~ 0
uC_ADC
Wire Wire Line
	14000 8500 14300 8500
Connection ~ 14000 8500
Wire Wire Line
	13800 4100 14100 4100
Wire Wire Line
	13800 4400 14100 4400
Wire Wire Line
	13800 4700 14100 4700
$Comp
L local_symbols:attiny412 U?
U 1 1 5C46B9BD
P 1950 5100
F 0 "U?" H 1950 5650 50  0000 C CNN
F 1 "attiny412" H 1950 4800 50  0000 C CNN
F 2 "" H 2050 5100 50  0001 C CNN
F 3 "" H 2050 5100 50  0001 C CNN
	1    1950 5100
	1    0    0    -1  
$EndComp
Wire Wire Line
	12600 5050 13100 5050
Wire Wire Line
	1750 1650 1750 1750
Wire Wire Line
	1750 1750 1850 1750
Connection ~ 1750 1650
Wire Wire Line
	2250 1650 2350 1650
Wire Wire Line
	2350 1650 2350 1500
$Comp
L power:GND #PWR?
U 1 1 5C48C646
P 2750 1950
F 0 "#PWR?" H 2750 1700 50  0001 C CNN
F 1 "GND" H 2755 1774 50  0000 C CNN
F 2 "" H 2750 1950 50  0001 C CNN
F 3 "" H 2750 1950 50  0001 C CNN
	1    2750 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 1650 2550 1650
Connection ~ 2350 1650
Text Notes 3100 1850 0    50   ~ 0
3.0V-4.2V
Text GLabel 1250 2950 0    50   Input ~ 0
VBAT
Wire Wire Line
	15800 5100 16000 5100
Wire Wire Line
	16000 5100 16000 5500
$Comp
L local_symbols:AP7354 U?
U 1 1 5C49DC5E
P 2150 3350
F 0 "U?" H 2100 3850 50  0000 C CNN
F 1 "AP7354" H 2100 3150 50  0000 C CNN
F 2 "" H 2050 3350 50  0001 C CNN
F 3 "" H 2050 3350 50  0001 C CNN
	1    2150 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 3050 1550 3250
Wire Wire Line
	1350 3050 1550 3050
Wire Wire Line
	1550 3250 1650 3250
Wire Wire Line
	1550 3050 1650 3050
Connection ~ 1550 3050
$Comp
L power:GND #PWR?
U 1 1 5C4A81B7
P 1350 3450
F 0 "#PWR?" H 1350 3200 50  0001 C CNN
F 1 "GND" H 1355 3274 50  0000 C CNN
F 2 "" H 1350 3450 50  0001 C CNN
F 3 "" H 1350 3450 50  0001 C CNN
	1    1350 3450
	1    0    0    -1  
$EndComp
Text GLabel 2850 3050 2    50   Input ~ 0
2V5
$Comp
L Device:C_Small C?
U 1 1 5C4A8324
P 1350 3250
F 0 "C?" H 1600 3200 50  0000 R CNN
F 1 "0.1uF" H 1650 3300 50  0000 R CNN
F 2 "" H 1350 3250 50  0001 C CNN
F 3 "~" H 1350 3250 50  0001 C CNN
	1    1350 3250
	-1   0    0    1   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5C4AD8B8
P 2650 3200
F 0 "C?" H 2558 3153 50  0000 R CNN
F 1 "0.1uF" H 2558 3246 50  0000 R CNN
F 2 "" H 2650 3200 50  0001 C CNN
F 3 "~" H 2650 3200 50  0001 C CNN
	1    2650 3200
	-1   0    0    1   
$EndComp
Wire Wire Line
	2550 3350 2650 3350
Wire Wire Line
	2650 3350 2650 3450
Wire Wire Line
	2550 3050 2650 3050
Wire Wire Line
	2650 3050 2650 3100
Wire Wire Line
	2650 3300 2650 3350
Connection ~ 2650 3350
Wire Wire Line
	2650 3050 2850 3050
Wire Wire Line
	1350 3050 1350 3150
Wire Wire Line
	1350 3350 1350 3450
Wire Wire Line
	1250 2950 1350 2950
Wire Wire Line
	1350 2950 1350 3050
Connection ~ 1350 3050
$Comp
L power:GND #PWR?
U 1 1 5C4D03DD
P 2650 3450
F 0 "#PWR?" H 2650 3200 50  0001 C CNN
F 1 "GND" H 2655 3274 50  0000 C CNN
F 2 "" H 2650 3450 50  0001 C CNN
F 3 "" H 2650 3450 50  0001 C CNN
	1    2650 3450
	1    0    0    -1  
$EndComp
Text GLabel 1250 4700 0    50   Input ~ 0
2V5
$Comp
L Device:C_Small C?
U 1 1 5C4E78E8
P 1350 4950
F 0 "C?" H 1600 4900 50  0000 R CNN
F 1 "0.1uF" H 1650 5000 50  0000 R CNN
F 2 "" H 1350 4950 50  0001 C CNN
F 3 "~" H 1350 4950 50  0001 C CNN
	1    1350 4950
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5C4F5A76
P 1350 5300
F 0 "#PWR?" H 1350 5050 50  0001 C CNN
F 1 "GND" H 1355 5124 50  0000 C CNN
F 2 "" H 1350 5300 50  0001 C CNN
F 3 "" H 1350 5300 50  0001 C CNN
	1    1350 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 5050 1350 5200
Wire Wire Line
	1350 5200 1450 5200
Wire Wire Line
	1350 5200 1350 5300
Connection ~ 1350 5200
Wire Wire Line
	1250 4700 1350 4700
Wire Wire Line
	1350 4700 1350 4850
Wire Wire Line
	1350 4700 1450 4700
Connection ~ 1350 4700
Connection ~ 2650 3050
$Comp
L power:GND #PWR?
U 1 1 5C54466B
P 2950 5700
F 0 "#PWR?" H 2950 5450 50  0001 C CNN
F 1 "GND" H 2955 5524 50  0000 C CNN
F 2 "" H 2950 5700 50  0001 C CNN
F 3 "" H 2950 5700 50  0001 C CNN
	1    2950 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 5600 2950 5700
Wire Wire Line
	2450 5100 2950 5100
Wire Wire Line
	2950 5100 2950 5200
Text GLabel 3550 5100 2    50   Input ~ 0
UPDI
$Comp
L Device:R R?
U 1 1 5C55B5CB
P 3300 5100
F 0 "R?" V 3090 5100 50  0000 C CNN
F 1 "3.3k" V 3183 5100 50  0000 C CNN
F 2 "" V 3230 5100 50  0001 C CNN
F 3 "~" H 3300 5100 50  0001 C CNN
	1    3300 5100
	0    1    1    0   
$EndComp
Connection ~ 2950 5100
Wire Wire Line
	3450 5100 3550 5100
Text GLabel 2450 5200 2    50   Input ~ 0
PA3
Text GLabel 2450 4900 2    50   Input ~ 0
PA1
Text GLabel 2450 5000 2    50   Input ~ 0
PA2
Text GLabel 3100 4150 2    50   Input ~ 0
VBAT
$Comp
L Device:R_Small R?
U 1 1 5C56BE6E
P 3050 4350
F 0 "R?" H 3109 4397 50  0000 L CNN
F 1 "R" H 3109 4304 50  0000 L CNN
F 2 "" H 3050 4350 50  0001 C CNN
F 3 "~" H 3050 4350 50  0001 C CNN
	1    3050 4350
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5C56BEF0
P 3050 4650
F 0 "R?" H 3109 4697 50  0000 L CNN
F 1 "R" H 3109 4604 50  0000 L CNN
F 2 "" H 3050 4650 50  0001 C CNN
F 3 "~" H 3050 4650 50  0001 C CNN
	1    3050 4650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5C56BF56
P 3050 4750
F 0 "#PWR?" H 3050 4500 50  0001 C CNN
F 1 "GND" H 3055 4574 50  0000 C CNN
F 2 "" H 3050 4750 50  0001 C CNN
F 3 "" H 3050 4750 50  0001 C CNN
	1    3050 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 4700 2750 4700
Wire Wire Line
	2750 4700 2750 4500
Wire Wire Line
	3050 4500 3050 4550
Wire Wire Line
	3050 4450 3050 4500
Connection ~ 3050 4500
Wire Wire Line
	3100 4150 3050 4150
Wire Wire Line
	3050 4150 3050 4250
Text GLabel 2450 4800 2    50   Input ~ 0
BOOST_EN
Wire Wire Line
	2750 4500 3050 4500
Wire Wire Line
	2950 5100 3150 5100
Wire Wire Line
	1150 1650 1350 1650
Text Notes 3200 4550 0    50   ~ 0
max 2.5V
Text Notes 1250 2650 0    100  ~ 0
2.5V for AVR controller
Text Notes 1250 4350 0    100  ~ 0
Attiny412 MCU
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C706B5F
P 1400 7400
F 0 "J?" H 1500 7400 50  0000 L CNN
F 1 "THT_Castellated" H 1350 7250 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 1400 7400 50  0001 C CNN
F 3 "~" H 1400 7400 50  0001 C CNN
	1    1400 7400
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C721D3E
P 1400 7500
F 0 "J?" H 1500 7500 50  0000 L CNN
F 1 "THT_Castellated" H 1350 7650 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 1400 7500 50  0001 C CNN
F 3 "~" H 1400 7500 50  0001 C CNN
	1    1400 7500
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5C721EBC
P 1600 7500
F 0 "#PWR?" H 1600 7250 50  0001 C CNN
F 1 "GND" H 1605 7324 50  0000 C CNN
F 2 "" H 1600 7500 50  0001 C CNN
F 3 "" H 1600 7500 50  0001 C CNN
	1    1600 7500
	1    0    0    -1  
$EndComp
Text Notes 900  6400 0    100  ~ 0
External connectors, headers, etc
Text GLabel 3600 6800 2    50   Input ~ 0
UPDI_HV
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C734540
P 3200 6800
F 0 "J?" H 3300 6800 50  0000 L CNN
F 1 "THT_Castellated" H 3150 6650 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 3200 6800 50  0001 C CNN
F 3 "~" H 3200 6800 50  0001 C CNN
	1    3200 6800
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C734546
P 3200 6900
F 0 "J?" H 3300 6900 50  0000 L CNN
F 1 "THT_Castellated" H 3150 7050 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 3200 6900 50  0001 C CNN
F 3 "~" H 3200 6900 50  0001 C CNN
	1    3200 6900
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5C73454C
P 3400 6900
F 0 "#PWR?" H 3400 6650 50  0001 C CNN
F 1 "GND" H 3405 6724 50  0000 C CNN
F 2 "" H 3400 6900 50  0001 C CNN
F 3 "" H 3400 6900 50  0001 C CNN
	1    3400 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 6800 3600 6800
Text GLabel 5600 6800 2    50   Input ~ 0
PA1_HV
Text GLabel 5600 6900 2    50   Input ~ 0
PA2_HV
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C7548B7
P 5200 6800
F 0 "J?" H 5300 6800 50  0000 L CNN
F 1 "THT_Castellated" H 5450 6800 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 5200 6800 50  0001 C CNN
F 3 "~" H 5200 6800 50  0001 C CNN
	1    5200 6800
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C7548BD
P 5200 6900
F 0 "J?" H 5300 6900 50  0000 L CNN
F 1 "THT_Castellated" H 5450 6900 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 5200 6900 50  0001 C CNN
F 3 "~" H 5200 6900 50  0001 C CNN
	1    5200 6900
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J?
U 1 1 5C766F0F
P 5200 7000
F 0 "J?" H 5300 7000 50  0000 L CNN
F 1 "THT_Castellated" H 5450 7000 50  0000 L CNN
F 2 "MCP16251_module:Conn_01x01_cast" H 5200 7000 50  0001 C CNN
F 3 "~" H 5200 7000 50  0001 C CNN
	1    5200 7000
	-1   0    0    1   
$EndComp
Wire Wire Line
	5400 6800 5600 6800
Wire Wire Line
	5400 6900 5600 6900
$Comp
L power:GND #PWR?
U 1 1 5C77E43D
P 5400 7000
F 0 "#PWR?" H 5400 6750 50  0001 C CNN
F 1 "GND" H 5405 6824 50  0000 C CNN
F 2 "" H 5400 7000 50  0001 C CNN
F 3 "" H 5400 7000 50  0001 C CNN
	1    5400 7000
	1    0    0    -1  
$EndComp
$EndSCHEMATC
